{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@app/services/courses-store.service\";\nimport * as i2 from \"@app/user/services/user-store.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../../shared/components/button/button.component\";\nimport * as i6 from \"../../../shared/components/course-card/course-card.component\";\nfunction CoursesListComponent_ng_container_1_ng_container_1_app_course_card_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"app-button\", 4);\n    i0.ɵɵlistener(\"click\", function CoursesListComponent_ng_container_1_ng_container_1_app_course_card_1_ng_container_1_Template_app_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const course_r5 = i0.ɵɵnextContext().$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r7.onEditCourse(course_r5));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"app-button\", 4);\n    i0.ɵɵlistener(\"click\", function CoursesListComponent_ng_container_1_ng_container_1_app_course_card_1_ng_container_1_Template_app_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const course_r5 = i0.ɵɵnextContext().$implicit;\n      const ctx_r10 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r10.onDeleteCourse(course_r5));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"buttonText\", \"Edit\")(\"iconName\", \"edit\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"buttonText\", \"Remove\")(\"iconName\", \"delete\");\n  }\n}\nfunction CoursesListComponent_ng_container_1_ng_container_1_app_course_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-course-card\", 3);\n    i0.ɵɵlistener(\"clickOnShow\", function CoursesListComponent_ng_container_1_ng_container_1_app_course_card_1_Template_app_course_card_clickOnShow_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const course_r5 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r12.onShowCourse(course_r5));\n    });\n    i0.ɵɵtemplate(1, CoursesListComponent_ng_container_1_ng_container_1_app_course_card_1_ng_container_1_Template, 3, 4, \"ng-container\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const course_r5 = ctx.$implicit;\n    const editable_r3 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵproperty(\"title\", course_r5.title)(\"description\", course_r5.description)(\"creationDate\", course_r5.creationDate)(\"duration\", course_r5.duration)(\"authors\", course_r5.authors)(\"editable\", editable_r3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", editable_r3);\n  }\n}\nfunction CoursesListComponent_ng_container_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CoursesListComponent_ng_container_1_ng_container_1_app_course_card_1_Template, 2, 7, \"app-course-card\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const courses_r1 = i0.ɵɵnextContext().ngIf;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", courses_r1)(\"ngForTrackBy\", ctx_r2.trackByCourseId);\n  }\n}\nfunction CoursesListComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CoursesListComponent_ng_container_1_ng_container_1_Template, 2, 2, \"ng-container\", 1);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, ctx_r0.editable$));\n  }\n}\nexport let CoursesListComponent = /*#__PURE__*/(() => {\n  class CoursesListComponent {\n    constructor(coursesStore, userStore, router) {\n      this.coursesStore = coursesStore;\n      this.userStore = userStore;\n      this.router = router;\n      this.courses$ = this.coursesStore.courses$;\n      this.editable$ = this.userStore.isAdmin$;\n    }\n    ngOnInit() {\n      this.coursesStore.getAll();\n      this.userStore.getUser();\n    }\n    trackByCourseId(index, course) {\n      return course.id;\n    }\n    onShowCourse(course) {\n      this.router.navigate([\"/courses\", course.id]);\n    }\n    onEditCourse(course) {\n      this.router.navigate([\"/courses/edit\", course.id]);\n    }\n    onDeleteCourse(course) {\n      this.coursesStore.deleteCourse(course.id);\n    }\n  }\n  CoursesListComponent.ɵfac = function CoursesListComponent_Factory(t) {\n    return new (t || CoursesListComponent)(i0.ɵɵdirectiveInject(i1.CoursesStoreService), i0.ɵɵdirectiveInject(i2.UserStoreService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n  CoursesListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CoursesListComponent,\n    selectors: [[\"app-courses-list\"]],\n    decls: 3,\n    vars: 3,\n    consts: [[1, \"courses-list\"], [4, \"ngIf\"], [3, \"title\", \"description\", \"creationDate\", \"duration\", \"authors\", \"editable\", \"clickOnShow\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [3, \"title\", \"description\", \"creationDate\", \"duration\", \"authors\", \"editable\", \"clickOnShow\"], [3, \"buttonText\", \"iconName\", \"click\"]],\n    template: function CoursesListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, CoursesListComponent_ng_container_1_Template, 3, 3, \"ng-container\", 1);\n        i0.ɵɵpipe(2, \"async\");\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, ctx.courses$));\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i5.ButtonComponent, i6.CourseCardComponent, i4.AsyncPipe]\n  });\n  return CoursesListComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}