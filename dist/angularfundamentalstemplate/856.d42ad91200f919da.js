"use strict";(self.webpackChunkangularfundamentalstemplate=self.webpackChunkangularfundamentalstemplate||[]).push([[856],{2856:(y,a,i)=>{i.r(a),i.d(a,{CoursesModule:()=>Z});var u=i(6895),d=i(3841),l=i(9625),e=i(1571),C=i(7271),_=i(1216),m=i(6518),p=i(42),h=i(9727),g=i(757);function f(o,c){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-button",4),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw();return e.KtG(r.onEditCourse(n))}),e.qZA(),e.TgZ(2,"app-button",4),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw();return e.KtG(r.onDeleteCourse(n))}),e.qZA(),e.BQk()}2&o&&(e.xp6(1),e.Q6J("buttonText","Edit")("iconName","edit"),e.xp6(1),e.Q6J("buttonText","Remove")("iconName","delete"))}function x(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"app-course-card",2),e.NdJ("clickOnShow",function(){const r=e.CHM(t).$implicit,F=e.oxw();return e.KtG(F.onShowCourse(r))}),e.YNc(1,f,3,4,"ng-container",3),e.qZA()}if(2&o){const t=c.$implicit,s=e.oxw();e.Q6J("title",t.title)("description",t.description)("creationDate",t.creationDate)("duration",t.duration)("authors",t.authors)("editable",s.editable),e.xp6(1),e.Q6J("ngIf",s.editable)}}let v=(()=>{class o{constructor(){this.courses=[],this.editable=!1,this.showCourse=new e.vpe,this.editCourse=new e.vpe,this.deleteCourse=new e.vpe}onShowCourse(t){this.showCourse.emit(t)}onEditCourse(t){this.editCourse.emit(t)}onDeleteCourse(t){this.deleteCourse.emit(t)}trackByCourseId(t,s){return s.id}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-courses-list"]],inputs:{courses:"courses",editable:"editable"},outputs:{showCourse:"showCourse",editCourse:"editCourse",deleteCourse:"deleteCourse"},decls:2,vars:2,consts:[[1,"courses-list"],[3,"title","description","creationDate","duration","authors","editable","clickOnShow",4,"ngFor","ngForOf","ngForTrackBy"],[3,"title","description","creationDate","duration","authors","editable","clickOnShow"],[4,"ngIf"],[3,"buttonText","iconName","click"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e.YNc(1,x,2,7,"app-course-card",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",s.courses)("ngForTrackBy",s.trackByCourseId))},dependencies:[u.sg,u.O5,p.r,g.I]}),o})();function T(o,c){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-button",6),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onAddCourse())}),e.qZA(),e.BQk()}2&o&&(e.xp6(1),e.Q6J("buttonText","Add Course")("iconName","add"))}function A(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"div",7)(1,"app-courses-list",8),e.NdJ("showCourse",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.onShowCourse(n))})("editCourse",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.onEditCourse(n))})("deleteCourse",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.onDeleteCourse(n))}),e.ALo(2,"async"),e.ALo(3,"async"),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("courses",e.lcZ(2,2,t.courses$))("editable",!!e.lcZ(3,4,t.isAdmin$))}}function S(o,c){1&o&&(e.TgZ(0,"div",9),e._uU(1,"Loading courses..."),e.qZA())}const w=[{path:"",component:(()=>{class o{constructor(t,s,n,r){this.coursesStateFacade=t,this.userStoreService=s,this.authService=n,this.router=r,this.courses$=this.coursesStateFacade.courses$,this.isLoading$=this.coursesStateFacade.isAllCoursesLoading$,this.isAdmin$=this.userStoreService.isAdmin$,this.isAuthorized$=this.authService.isAuthorized$}ngOnInit(){this.coursesStateFacade.getAllCourses(),this.userStoreService.getUser()}onSearch(t){t.trim()?this.coursesStateFacade.getFilteredCourses(t):this.coursesStateFacade.getAllCourses()}onAddCourse(){this.router.navigate(["/courses/add"])}onShowCourse(t){this.router.navigate(["/courses",t.id])}onEditCourse(t){this.router.navigate(["/courses/edit",t.id])}onDeleteCourse(t){confirm("Are you sure you want to delete this course?")&&this.coursesStateFacade.deleteCourse(t.id)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(C.m),e.Y36(_.p),e.Y36(m.e),e.Y36(d.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-courses"]],decls:9,vars:7,consts:[[1,"courses-page"],[1,"courses-page__header"],[3,"search"],[4,"ngIf"],["class","courses-page__content",4,"ngIf","ngIfElse"],["loading",""],[3,"buttonText","iconName","click"],[1,"courses-page__content"],[3,"courses","editable","showCourse","editCourse","deleteCourse"],[1,"loading"]],template:function(t,s){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"app-search",2),e.NdJ("search",function(r){return s.onSearch(r)}),e.qZA(),e.YNc(3,T,2,2,"ng-container",3),e.ALo(4,"async"),e.qZA(),e.YNc(5,A,4,6,"div",4),e.ALo(6,"async"),e.YNc(7,S,2,0,"ng-template",null,5,e.W1O),e.qZA()),2&t){const n=e.MAs(8);e.xp6(3),e.Q6J("ngIf",e.lcZ(4,3,s.isAdmin$)),e.xp6(2),e.Q6J("ngIf",!e.lcZ(6,5,s.isLoading$))("ngIfElse",n)}},dependencies:[u.O5,p.r,h.g,v,u.Ov]}),o})()}];let Z=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[u.ez,l.m,d.Bz.forChild(w)]}),o})()}}]);