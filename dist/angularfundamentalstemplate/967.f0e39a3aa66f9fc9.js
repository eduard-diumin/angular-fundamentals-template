"use strict";(self.webpackChunkangularfundamentalstemplate=self.webpackChunkangularfundamentalstemplate||[]).push([[967],{4967:(T,g,r)=>{r.r(g),r.d(g,{LoginFormModule:()=>_});var m=r(6895),s=r(433),d=r(860),p=r(9625),e=r(8256),c=r(6518),u=r(1216),f=r(42),h=r(9895);const x=["loginForm"];function C(o,a){1&o&&(e.TgZ(0,"span",16),e._uU(1,"Email is required."),e.qZA())}function v(o,a){1&o&&(e.TgZ(0,"span",17),e._uU(1,"Password is required."),e.qZA())}function M(o,a){if(1&o&&(e.TgZ(0,"div",18),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.errorMessage)}}const F=[{path:"",component:(()=>{class o{constructor(t,i,n){this.authService=t,this.userStoreService=i,this.router=n,this.email="",this.password="",this.errorMessage="",this.isSubmitting=!1}onSubmit(){this.loginForm.valid&&(this.isSubmitting=!0,this.errorMessage="",this.authService.login({email:this.email,password:this.password}).subscribe({next:t=>{t.successful?(this.userStoreService.getUser(),this.router.navigate(["/courses"])):this.errorMessage="Login failed",this.isSubmitting=!1},error:t=>{this.errorMessage="Login failed. Please check your credentials.",this.isSubmitting=!1}}))}navigateToRegister(){this.router.navigate(["/registration"])}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.e),e.Y36(u.p),e.Y36(d.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-login-form"]],viewQuery:function(t,i){if(1&t&&e.Gf(x,5),2&t){let n;e.iGM(n=e.CRH())&&(i.loginForm=n.first)}},decls:25,vars:6,consts:[[1,"text-align-center"],[1,"app-plate"],["loginForm","ngForm"],[1,"login-form"],[1,"form__control"],["for","email"],["type","text","id","email","name","email","placeholder","Input text","emailValidator","","required","",3,"ngModel","ngModelChange"],["id","emailErrorMessage","class","text-danger",4,"ngIf"],["for","password"],["type","password","id","password","name","password","placeholder","Input text","required","",3,"ngModel","ngModelChange"],["id","passwordErrorMessage","class","text-danger",4,"ngIf"],[1,"form__action"],[3,"buttonText","click"],["class","text-danger",4,"ngIf"],[1,"form__text"],[3,"click"],["id","emailErrorMessage",1,"text-danger"],["id","passwordErrorMessage",1,"text-danger"],[1,"text-danger"]],template:function(t,i){if(1&t&&(e.TgZ(0,"h2",0),e._uU(1,"Login"),e.qZA(),e.TgZ(2,"div",1)(3,"form",null,2)(5,"div",3)(6,"div")(7,"div",4)(8,"label",5),e._uU(9,"Email"),e.qZA(),e.TgZ(10,"input",6),e.NdJ("ngModelChange",function(l){return i.email=l}),e.qZA(),e.YNc(11,C,2,0,"span",7),e.qZA(),e.TgZ(12,"div",4)(13,"label",8),e._uU(14,"Password"),e.qZA(),e.TgZ(15,"input",9),e.NdJ("ngModelChange",function(l){return i.password=l}),e.qZA(),e.YNc(16,v,2,0,"span",10),e.qZA()(),e.TgZ(17,"div")(18,"div",11)(19,"app-button",12),e.NdJ("click",function(){return i.onSubmit()}),e.qZA()(),e.YNc(20,M,2,1,"div",13),e.TgZ(21,"div",14),e._uU(22," If you don't have an account you may "),e.TgZ(23,"strong",15),e.NdJ("click",function(){return i.navigateToRegister()}),e._uU(24,"Registration"),e.qZA()()()()()()),2&t){const n=e.MAs(4);e.xp6(10),e.Q6J("ngModel",i.email),e.xp6(1),e.Q6J("ngIf",(null==n.controls.email?null:n.controls.email.invalid)&&(null==n.controls.email?null:n.controls.email.touched)),e.xp6(4),e.Q6J("ngModel",i.password),e.xp6(1),e.Q6J("ngIf",(null==n.controls.password?null:n.controls.password.invalid)&&(null==n.controls.password?null:n.controls.password.touched)),e.xp6(3),e.Q6J("buttonText","Login"),e.xp6(1),e.Q6J("ngIf",i.errorMessage)}},dependencies:[m.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.On,s.F,f.r,h.f],styles:[".app-plate[_ngcontent-%COMP%]{width:100%;min-height:477px;background-color:#fff;border:1px solid #CFCFCF;border-radius:4px;padding:32px;display:flex;justify-content:center}.text-align-center[_ngcontent-%COMP%]{text-align:center}.app-error-text[_ngcontent-%COMP%]{color:red;position:absolute;margin-top:4px}.form__control[_ngcontent-%COMP%]{margin-bottom:24px}.form__action[_ngcontent-%COMP%]{margin-top:54px}.form__text[_ngcontent-%COMP%]{text-align:center;margin-top:38px;flex-wrap:wrap}.separator[_ngcontent-%COMP%]{width:100%;border-bottom:1px solid #CFCFCF}.text-danger[_ngcontent-%COMP%]{color:red}.login-form[_ngcontent-%COMP%]{width:260px;margin-top:36px;display:flex;flex-direction:column;justify-content:space-between}"]}),o})()}];let _=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[m.ez,s.u5,p.m,d.Bz.forChild(F)]}),o})()}}]);